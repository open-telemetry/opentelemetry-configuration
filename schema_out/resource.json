{
  "$id": "https://opentelemetry.io/otelconfig/resource.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "attributes": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/$defs/AttributeNameValue"
      },
      "description": "Configure resource attributes. Entries have higher priority than entries from .resource.attributes_list.\n"
    },
    "detection/development": {
      "$ref": "#/$defs/ExperimentalResourceDetection",
      "description": "Configure resource detection.\nIf omitted or null, resource detection is disabled.\n"
    },
    "schema_url": {
      "type": [
        "string",
        "null"
      ],
      "description": "Configure resource schema URL.\nIf omitted or null, no schema URL is used.\n"
    },
    "attributes_list": {
      "type": [
        "string",
        "null"
      ],
      "description": "Configure resource attributes. Entries have lower priority than entries from .resource.attributes.\nThe value is a list of comma separated key-value pairs matching the format of OTEL_RESOURCE_ATTRIBUTES. See https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/configuration/sdk-environment-variables.md#general-sdk-configuration for details.\nIf omitted or null, no resource attributes are added.\n"
    }
  },
  "$defs": {
    "AttributeNameValue": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": {
          "type": "string",
          "description": "The attribute name.\n"
        },
        "value": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            },
            {
              "type": "null"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "minItems": 1
            },
            {
              "type": "array",
              "items": {
                "type": "boolean"
              },
              "minItems": 1
            },
            {
              "type": "array",
              "items": {
                "type": "number"
              },
              "minItems": 1
            }
          ],
          "description": "The attribute value.\nThe type of value must match .type.\n"
        },
        "type": {
          "$ref": "#/$defs/AttributeType",
          "description": "The attribute type.\nValues include: string, bool, int, double, string_array, bool_array, int_array, double_array.\nIf omitted or null, string is used.\n"
        }
      },
      "required": [
        "name",
        "value"
      ]
    },
    "AttributeType": {
      "type": [
        "string",
        "null"
      ],
      "enum": [
        "string",
        "bool",
        "int",
        "double",
        "string_array",
        "bool_array",
        "int_array",
        "double_array"
      ]
    },
    "ExperimentalResourceDetection": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "attributes": {
          "$ref": "common.json#/$defs/IncludeExclude",
          "description": "Configure attributes provided by resource detectors."
        },
        "detectors": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/$defs/ExperimentalResourceDetector"
          },
          "description": "Configure resource detectors.\nResource detector names are dependent on the SDK language ecosystem. Please consult documentation for each respective language. \nIf omitted or null, no resource detectors are enabled.\n"
        }
      }
    },
    "ExperimentalResourceDetector": {
      "type": "object",
      "additionalProperties": {
        "type": [
          "object",
          "null"
        ]
      },
      "minProperties": 1,
      "maxProperties": 1,
      "properties": {
        "container": {
          "$ref": "#/$defs/ExperimentalContainerResourceDetector",
          "description": "Enable the container resource detector, which populates container.* attributes.\n"
        },
        "host": {
          "$ref": "#/$defs/ExperimentalHostResourceDetector",
          "description": "Enable the host resource detector, which populates host.* and os.* attributes.\n"
        },
        "process": {
          "$ref": "#/$defs/ExperimentalProcessResourceDetector",
          "description": "Enable the process resource detector, which populates process.* attributes.\n"
        },
        "service": {
          "$ref": "#/$defs/ExperimentalServiceResourceDetector",
          "description": "Enable the service detector, which populates service.name based on the OTEL_SERVICE_NAME environment variable and service.instance.id.\n"
        }
      }
    },
    "ExperimentalContainerResourceDetector": {
      "type": [
        "object",
        "null"
      ],
      "additionalProperties": false
    },
    "ExperimentalHostResourceDetector": {
      "type": [
        "object",
        "null"
      ],
      "additionalProperties": false
    },
    "ExperimentalProcessResourceDetector": {
      "type": [
        "object",
        "null"
      ],
      "additionalProperties": false
    },
    "ExperimentalServiceResourceDetector": {
      "type": [
        "object",
        "null"
      ],
      "additionalProperties": false
    }
  }
}