type: object
additionalProperties: false
properties:
  processors:
    type: array
    minItems: 1
    items:
      $ref: "#/$defs/LogRecordProcessor"
    description: Configure log record processors.
  limits:
    $ref: "#/$defs/LogRecordLimits"
    description: Configure log record limits. See also attribute_limits.
  logger_configurator/development:
    $ref: "#/$defs/ExperimentalLoggerConfigurator"
    description: |
      Configure loggers.
required:
  - processors
$defs:
  SimpleLogRecordProcessor:
    type: object
    additionalProperties: false
    properties:
      exporter:
        $ref: "#/$defs/LogRecordExporter"
        description: Configure exporter.
    required:
      - exporter
  BatchLogRecordProcessor:
    type: object
    additionalProperties: false
    properties:
      schedule_delay:
        type:
          - integer
          - "null"
        minimum: 0
        description: |
          Configure delay interval (in milliseconds) between two consecutive exports. 
          Value must be non-negative.
          If omitted or null, 1000 is used.
      export_timeout:
        type:
          - integer
          - "null"
        minimum: 0
        description: |
          Configure maximum allowed time (in milliseconds) to export data. 
          Value must be non-negative. A value of 0 indicates no limit (infinity).
          If omitted or null, 30000 is used.
      max_queue_size:
        type:
          - integer
          - "null"
        exclusiveMinimum: 0
        description: |
          Configure maximum queue size. Value must be positive.
          If omitted or null, 2048 is used.
      max_export_batch_size:
        type:
          - integer
          - "null"
        exclusiveMinimum: 0
        description: |
          Configure maximum batch size. Value must be positive.
          If omitted or null, 512 is used.
      exporter:
        $ref: "#/$defs/LogRecordExporter"
        description: Configure exporter.
    required:
      - exporter
  LogRecordExporter:
    type: object
    additionalProperties:
      type:
        - object
        - "null"
    minProperties: 1
    maxProperties: 1
    properties:
      otlp_http:
        $ref: common.yaml#/$defs/OtlpHttpExporter
        description: Configure exporter to be OTLP with HTTP transport.
      otlp_grpc:
        $ref: common.yaml#/$defs/OtlpGrpcExporter
        description: Configure exporter to be OTLP with gRPC transport.
      otlp_file/development:
        $ref: common.yaml#/$defs/ExperimentalOtlpFileExporter
        description: |
          Configure exporter to be OTLP with file transport.
      console:
        $ref: common.yaml#/$defs/ConsoleExporter
        description: Configure exporter to be console.
    isSdkExtensionPlugin: true
  LogRecordLimits:
    type: object
    additionalProperties: false
    properties:
      attribute_value_length_limit:
        type:
          - integer
          - "null"
        minimum: 0
        description: |
          Configure max attribute value size. Overrides .attribute_limits.attribute_value_length_limit. 
          Value must be non-negative.
          If omitted or null, there is no limit.
      attribute_count_limit:
        type:
          - integer
          - "null"
        minimum: 0
        description: |
          Configure max attribute count. Overrides .attribute_limits.attribute_count_limit. 
          Value must be non-negative.
          If omitted or null, 128 is used.
  LogRecordProcessor:
    type: object
    additionalProperties:
      type:
        - object
        - "null"
    minProperties: 1
    maxProperties: 1
    properties:
      batch:
        $ref: "#/$defs/BatchLogRecordProcessor"
        description: Configure a batch log record processor.
      simple:
        $ref: "#/$defs/SimpleLogRecordProcessor"
        description: Configure a simple log record processor.
    isSdkExtensionPlugin: true
  ExperimentalLoggerConfigurator:
    type:
      - object
    additionalProperties: false
    properties:
      default_config:
        $ref: "#/$defs/ExperimentalLoggerConfig"
        description: Configure the default logger config used there is no matching entry in .logger_configurator/development.loggers.
      loggers:
        type: array
        minItems: 1
        items:
          $ref: "#/$defs/ExperimentalLoggerMatcherAndConfig"
        description: Configure loggers.
  ExperimentalLoggerMatcherAndConfig:
    type:
      - object
    additionalProperties: false
    properties:
      name:
        type:
          - string
        description: |
          Configure logger names to match, evaluated as follows:

           * If the logger name exactly matches.
           * If the logger name matches the wildcard pattern, where '?' matches any single character and '*' matches any number of characters including none.
      config:
        $ref: "#/$defs/ExperimentalLoggerConfig"
        description: The logger config.
    required:
      - name
      - config
  ExperimentalLoggerConfig:
    type:
      - object
    additionalProperties: false
    properties:
      disabled:
        type:
          - boolean
          - "null"
        description: |
          Configure if the logger is enabled or not.
          If omitted or null, false is used.
      minimum_severity:
        $ref: "#/$defs/ExperimentalSeverityNumber"
        description: |
          Configure severity filtering.
          Log records with an non-zero (i.e. unspecified) severity number which is less than minimum_severity are not processed.
          Values include: TRACE, TRACE2, TRACE3, TRACE4, DEBUG, DEBUG2, DEBUG3, DEBUG4, INFO, INFO2, INFO3, INFO4, WARN, WARN2, WARN3, WARN4, ERROR, ERROR2, ERROR3, ERROR4, FATAL, FATAL2, FATAL3, FATAL4.
          If omitted or null, severity filtering is not applied.
      trace_based:
        type:
          - boolean
          - "null"
        description: |
          Configure trace based filtering.
          If true, log records associated with unsampled trace contexts traces are not processed. If false, or if a log record is not associated with a trace context, trace based filtering is not applied.
          If omitted or null, trace based filtering is not applied.
  ExperimentalSeverityNumber:
    type:
      - string
      - "null"
    enum:
      - TRACE
      - TRACE2
      - TRACE3
      - TRACE4
      - DEBUG
      - DEBUG2
      - DEBUG3
      - DEBUG4
      - INFO
      - INFO2
      - INFO3
      - INFO4
      - WARN
      - WARN2
      - WARN3
      - WARN4
      - ERROR
      - ERROR2
      - ERROR3
      - ERROR4
      - FATAL
      - FATAL2
      - FATAL3
      - FATAL4
    enumDescriptions:
      DEBUG: DEBUG, severity number 5.
      DEBUG2: DEBUG2, severity number 6.
      DEBUG3: DEBUG3, severity number 7.
      DEBUG4: DEBUG4, severity number 8.
      ERROR: ERROR, severity number 17.
      ERROR2: ERROR2, severity number 18.
      ERROR3: ERROR3, severity number 19.
      ERROR4: ERROR4, severity number 20.
      FATAL: FATAL, severity number 21.
      FATAL2: FATAL2, severity number 22.
      FATAL3: FATAL3, severity number 23.
      FATAL4: FATAL4, severity number 24.
      INFO: INFO, severity number 9.
      INFO2: INFO2, severity number 10.
      INFO3: INFO3, severity number 11.
      INFO4: INFO4, severity number 12.
      TRACE: TRACE, severity number 1.
      TRACE2: TRACE2, severity number 2.
      TRACE3: TRACE3, severity number 3.
      TRACE4: TRACE4, severity number 4.
      WARN: WARN, severity number 13.
      WARN2: WARN2, severity number 14.
      WARN3: WARN3, severity number 15.
      WARN4: WARN4, severity number 16.
