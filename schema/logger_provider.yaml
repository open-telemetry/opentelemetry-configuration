type: object
additionalProperties: false
properties:
  processors:
    type: array
    minItems: 1
    items:
      $ref: "#/$defs/LogRecordProcessor"
    description: Configure log record processors.
  limits:
    $ref: "#/$defs/LogRecordLimits"
    description: Configure log record limits. See also attribute_limits.
    defaultBehavior: default values as described in LogRecordLimits are used
  logger_configurator/development:
    $ref: "#/$defs/ExperimentalLoggerConfigurator"
    description: |
      Configure loggers.
    defaultBehavior: all loggers use default values as described in ExperimentalLoggerConfig
required:
  - processors
$defs:
  SimpleLogRecordProcessor:
    type: object
    additionalProperties: false
    properties:
      exporter:
        $ref: "#/$defs/LogRecordExporter"
        description: Configure exporter.
    required:
      - exporter
  BatchLogRecordProcessor:
    type: object
    additionalProperties: false
    properties:
      schedule_delay:
        type:
          - integer
          - "null"
        minimum: 0
        description: |
          Configure delay interval (in milliseconds) between two consecutive exports. 
          Value must be non-negative.
        defaultBehavior: 1000 is used
      export_timeout:
        type:
          - integer
          - "null"
        minimum: 0
        description: |
          Configure maximum allowed time (in milliseconds) to export data. 
          Value must be non-negative. A value of 0 indicates no limit (infinity).
        defaultBehavior: 30000 is used
      max_queue_size:
        type:
          - integer
          - "null"
        exclusiveMinimum: 0
        description: |
          Configure maximum queue size. Value must be positive.
        defaultBehavior: 2048 is used
      max_export_batch_size:
        type:
          - integer
          - "null"
        exclusiveMinimum: 0
        description: |
          Configure maximum batch size. Value must be positive.
        defaultBehavior: 512 is used
      exporter:
        $ref: "#/$defs/LogRecordExporter"
        description: Configure exporter.
    required:
      - exporter
  LogRecordExporter:
    type: object
    additionalProperties:
      type:
        - object
        - "null"
    minProperties: 1
    maxProperties: 1
    properties:
      otlp_http:
        $ref: common.yaml#/$defs/OtlpHttpExporter
        description: Configure exporter to be OTLP with HTTP transport.
        defaultBehavior: ignore
      otlp_grpc:
        $ref: common.yaml#/$defs/OtlpGrpcExporter
        description: Configure exporter to be OTLP with gRPC transport.
        defaultBehavior: ignore
      otlp_file/development:
        $ref: common.yaml#/$defs/ExperimentalOtlpFileExporter
        description: |
          Configure exporter to be OTLP with file transport.
        defaultBehavior: ignore
      console:
        $ref: common.yaml#/$defs/ConsoleExporter
        description: Configure exporter to be console.
        defaultBehavior: ignore
    isSdkExtensionPlugin: true
  LogRecordLimits:
    type: object
    additionalProperties: false
    properties:
      attribute_value_length_limit:
        type:
          - integer
          - "null"
        minimum: 0
        description: |
          Configure max attribute value size. Overrides .attribute_limits.attribute_value_length_limit. 
          Value must be non-negative.
        defaultBehavior: there is no limit
      attribute_count_limit:
        type:
          - integer
          - "null"
        minimum: 0
        description: |
          Configure max attribute count. Overrides .attribute_limits.attribute_count_limit. 
          Value must be non-negative.
        defaultBehavior: 128 is used
  LogRecordProcessor:
    type: object
    additionalProperties:
      type:
        - object
        - "null"
    minProperties: 1
    maxProperties: 1
    properties:
      batch:
        $ref: "#/$defs/BatchLogRecordProcessor"
        description: Configure a batch log record processor.
        defaultBehavior: ignore
      simple:
        $ref: "#/$defs/SimpleLogRecordProcessor"
        description: Configure a simple log record processor.
        defaultBehavior: ignore
    isSdkExtensionPlugin: true
  ExperimentalLoggerConfigurator:
    type:
      - object
    additionalProperties: false
    properties:
      default_config:
        $ref: "#/$defs/ExperimentalLoggerConfig"
        description: Configure the default logger config used there is no matching entry in .logger_configurator/development.loggers.
        defaultBehavior: unmatched .loggers use default values as described in ExperimentalLoggerConfig
      loggers:
        type: array
        minItems: 1
        items:
          $ref: "#/$defs/ExperimentalLoggerMatcherAndConfig"
        description: Configure loggers.
        defaultBehavior: all loggers use .default_config
  ExperimentalLoggerMatcherAndConfig:
    type:
      - object
    additionalProperties: false
    properties:
      name:
        type:
          - string
        description: |
          Configure logger names to match, evaluated as follows:

           * If the logger name exactly matches.
           * If the logger name matches the wildcard pattern, where '?' matches any single character and '*' matches any number of characters including none.
      config:
        $ref: "#/$defs/ExperimentalLoggerConfig"
        description: The logger config.
    required:
      - name
      - config
  ExperimentalLoggerConfig:
    type:
      - object
    additionalProperties: false
    properties:
      disabled:
        type:
          - boolean
          - "null"
        description: |
          Configure if the logger is enabled or not.
        defaultBehavior: false is used
      minimum_severity:
        $ref: "common.yaml#/$defs/SeverityNumber"
        description: |
          Configure severity filtering.
          Log records with an non-zero (i.e. unspecified) severity number which is less than minimum_severity are not processed.
          Values include: TRACE, TRACE2, TRACE3, TRACE4, DEBUG, DEBUG2, DEBUG3, DEBUG4, INFO, INFO2, INFO3, INFO4, WARN, WARN2, WARN3, WARN4, ERROR, ERROR2, ERROR3, ERROR4, FATAL, FATAL2, FATAL3, FATAL4.
        defaultBehavior: severity filtering is not applied
      trace_based:
        type:
          - boolean
          - "null"
        description: |
          Configure trace based filtering.
          If true, log records associated with unsampled trace contexts traces are not processed. If false, or if a log record is not associated with a trace context, trace based filtering is not applied.
        defaultBehavior: trace based filtering is not applied
