type: object
additionalProperties: false
properties:
  attributes:
    type: array
    minItems: 1
    items:
      $ref: "#/$defs/AttributeNameValue"
    description: |
      Configure resource attributes. Entries have higher priority than entries from .resource.attributes_list.
  detection/development:
    $ref: "#/$defs/ExperimentalResourceDetection"
    description: |
      Configure resource detection.
      If omitted or null, resource detection is disabled.
  schema_url:
    type:
      - string
      - "null"
    description: |
      Configure resource schema URL.
      If omitted or null, no schema URL is used.
  attributes_list:
    type:
      - string
      - "null"
    description: |
      Configure resource attributes. Entries have lower priority than entries from .resource.attributes.
      The value is a list of comma separated key-value pairs matching the format of OTEL_RESOURCE_ATTRIBUTES. See https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/configuration/sdk-environment-variables.md#general-sdk-configuration for details.
      If omitted or null, no resource attributes are added.
$defs:
  AttributeNameValue:
    type: object
    additionalProperties: false
    properties:
      name:
        type: string
        description: |
          The attribute name.
      value:
        oneOf:
          - type: string
          - type: number
          - type: boolean
          - type: "null"
          - type: array
            items:
              type: string
            minItems: 1
          - type: array
            items:
              type: boolean
            minItems: 1
          - type: array
            items:
              type: number
            minItems: 1
        description: |
          The attribute value.
          The type of value must match .type.
      type:
        $ref: "#/$defs/AttributeType"
        description: |
          The attribute type.
          Values include: string, bool, int, double, string_array, bool_array, int_array, double_array.
          If omitted or null, string is used.
    required:
      - name
      - value
  AttributeType:
    type:
      - string
      - "null"
    enum:
      - string
      - bool
      - int
      - double
      - string_array
      - bool_array
      - int_array
      - double_array
    enumDescriptions:
      bool: TODO
      bool_array: TODO
      double: TODO
      double_array: TODO
      int: TODO
      int_array: TODO
      string: TODO
      string_array: TODO
  ExperimentalResourceDetection:
    type: object
    additionalProperties: false
    properties:
      attributes:
        $ref: common.yaml#/$defs/IncludeExclude
        description: Configure attributes provided by resource detectors.
      detectors:
        type: array
        minItems: 1
        items:
          $ref: "#/$defs/ExperimentalResourceDetector"
        description: |
          Configure resource detectors.
          Resource detector names are dependent on the SDK language ecosystem. Please consult documentation for each respective language. 
          If omitted or null, no resource detectors are enabled.
  ExperimentalResourceDetector:
    type: object
    additionalProperties:
      type:
        - object
        - "null"
    minProperties: 1
    maxProperties: 1
    properties:
      container:
        $ref: "#/$defs/ExperimentalContainerResourceDetector"
        description: |
          Enable the container resource detector, which populates container.* attributes.
      host:
        $ref: "#/$defs/ExperimentalHostResourceDetector"
        description: |
          Enable the host resource detector, which populates host.* and os.* attributes.
      process:
        $ref: "#/$defs/ExperimentalProcessResourceDetector"
        description: |
          Enable the process resource detector, which populates process.* attributes.
      service:
        $ref: "#/$defs/ExperimentalServiceResourceDetector"
        description: |
          Enable the service detector, which populates service.name based on the OTEL_SERVICE_NAME environment variable and service.instance.id.
    isSdkExtensionPlugin: true
  ExperimentalContainerResourceDetector:
    type:
      - object
      - "null"
    additionalProperties: false
  ExperimentalHostResourceDetector:
    type:
      - object
      - "null"
    additionalProperties: false
  ExperimentalProcessResourceDetector:
    type:
      - object
      - "null"
    additionalProperties: false
  ExperimentalServiceResourceDetector:
    type:
      - object
      - "null"
    additionalProperties: false
